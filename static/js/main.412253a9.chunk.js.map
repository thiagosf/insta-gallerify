{"version":3,"sources":["components/Header.js","components/Footer.js","components/Photo.js","utils/api.js","utils/image_utils.js","components/Gallery.js","components/GalleryFilter.js","components/GalleryFilters.js","components/Spinner.js","components/App.js","index.js"],"names":["Header","state","username","valid","fullscreen","_handleKey","event","key","_this","_setValid","_handleBlur","_handleChange","setState","target","value","trim","props","onSetUsername","_edit","input","select","_toggleFullScreen","document","body","requestFullscreen","exitFullscreen","prevProps","_this2","this","_this3","_this$state","react_default","a","createElement","className","onClick","role","aria-label","autoFocus","name","ref","type","placeholder","onChange","onKeyPress","onBlur","Component","Footer","href","Photo","_friendlyLikes","likes","numeral","format","_getLink","shortcode","concat","_getDate","timestamp","Date","toLocaleString","_getFavoriteClasses","classes","favorite","push","join","_toggleFavorite","onFavorite","url","rel","src","alt","defaultProps","api","fetchUser","fetch","then","response","ok","Error","json","result","graphql","user","is_private","promises","images","id","_result$graphql$user$","edge_owner_to_timeline_media","edges","count","hasNextPage","page_info","has_next_page","endCursor","end_cursor","isPrivate","map","item","node","display_url","taken_at_timestamp","edge_liked_by","page","loop","query","query_hash","variables","urlPagination","status","data","forEach","edge_media_preview_like","catch","error","console","log","length","Promise","all","image_utils","filterImages","_ref","sort","limit","filteredImages","_","sortBy","reverse","slice","toggleFavorite","photo","favorites","getFavorites","find","filter","JSON","stringify","localStorage","setItem","isFavorite","undefined","getItem","parse","Gallery","_onFavorite","imageUtils","filters","slider","slickGoTo","slides","image","index","components_Photo","lib_default","Object","assign","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","accessibility","lazyLoad","GalleryFilter","_getItems","_this$props","values","selected","label","GalleryFilters","_getSortFilters","components_GalleryFilter","_onChangeFilter","_getLimitFilters","defineProperty","Spinner","App","showThumbs","loading","exampleUsers","_onSetUsername","window","history","pushState","title","message","finally","_galleryImages","list","objectSpread","_onFilter","_getExampleUsers","_checkUsernameInHash","hash","parts","split","_onHashChange","newURL","location","addEventListener","_this$state2","components_Header","components_GalleryFilters","components_Gallery","components_Spinner","components_Footer","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.412253a9.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport '../styles/header.css'\n\nclass Header extends Component {\n  state = {\n    username: '',\n    valid: false,\n    fullscreen: false\n  };\n\n  componentDidUpdate (prevProps) {\n    const { username } = this.props\n    if (username !== prevProps.username) {\n      this.setState({ username }, () => {\n        this._setValid()\n      })\n    }\n  }\n\n  render () {\n    const { username, valid } = this.state\n    return (\n      <header className=\"main-header\">\n        <span className=\"main-header__fullscreen\" onClick={this._toggleFullScreen}><span role=\"img\" aria-label=\"eyeglasses\">👓</span></span>\n        {valid &&\n          <div className=\"main-header__user\"  onClick={this._edit}>\n            <p className=\"main-header__user__name\">{username}</p>\n          </div>\n        }\n        {!valid &&\n          <input\n            autoFocus\n            name='username'\n            className=\"main-header__input\"\n            ref={ref => this.input = ref}\n            type=\"text\"\n            value={username}\n            placeholder=\"@username\"\n            onChange={this._handleChange}\n            onKeyPress={this._handleKey}\n            onBlur={this._handleBlur}\n          />\n        }\n      </header>\n    )\n  };\n\n  _handleKey = event => {\n    if (event.key === 'Enter') {\n      this._setValid()\n    }\n  };\n\n  _handleBlur = () => {\n    if (this.state.username) {\n      this._setValid()\n    }\n  };\n\n  _handleChange = event => {\n    this.setState({ username: event.target.value.trim() })\n  };\n\n  _setValid = () => {\n    const valid = this.state.username !== ''\n    this.setState({ valid }, () => {\n      this.props.onSetUsername(this.state.username)\n    })\n  };\n\n  _edit = () => {\n    this.setState({ valid: false }, () => {\n      this.input.select()\n    })\n  };\n\n  _toggleFullScreen = () => {\n    this.setState({ fullscreen: !this.state.fullscreen }, () => {\n      if (this.state.fullscreen) {\n        document.body.requestFullscreen()\n      } else {\n        document.exitFullscreen()\n      }\n    })\n  };\n}\n\nexport default Header\n","import React, { Component } from 'react'\nimport '../styles/footer.css'\n\nclass Footer extends Component {\n  render () {\n    return (\n      <footer className=\"main-footer\">\n        <a className=\"main-footer__link\" href=\"https://github.com/thiagosf/insta-gallerify\">github</a>\n      </footer>\n    )\n  };\n}\n\nexport default Footer\n","import React, { Component } from 'react'\nimport numeral from 'numeral'\nimport '../styles/photo.css'\n\nclass Photo extends Component {\n  static defaultProps = {\n    url: '',\n    shortcode: '',\n    timestamp: '',\n    likes: 0,\n    favorite: false,\n    onFavorite: () => {}\n  };\n\n  render() {\n    const { url } = this.props\n    return (\n      <div className=\"photo\">\n        <div className=\"photo__info\">\n          <div className=\"photo__info__vertical-group\">\n            <span className={this._getFavoriteClasses()} onClick={this._toggleFavorite}>\n              <span className=\"photo__info__favorite__icon\" role=\"img\" aria-label=\"star\">⭐️</span>\n            </span>\n            <span className=\"photo__info__likes\">\n              <span className=\"photo__info__likes__icon\" role=\"img\" aria-label=\"heart\">❤️</span> {this._friendlyLikes()}\n            </span>\n          </div>\n          <span className=\"photo__info__timestamp\">\n            {this._getDate()}\n          </span>\n          <a href={this._getLink()} target=\"_blank\" rel=\"noopener noreferrer\"  className=\"photo__info__link\">link</a>\n        </div>\n        <img src={url} alt='' />\n      </div>\n    )\n  };\n\n  _friendlyLikes = () => {\n    const { likes } = this.props\n    if (likes > 1000) {\n      return numeral(likes).format('0.0a')\n    }\n    return likes\n  };\n\n  _getLink = () => {\n    const { shortcode } = this.props\n    return `https://www.instagram.com/p/${shortcode}`\n  };\n\n  _getDate = () => {\n    const { timestamp } = this.props\n    return (new Date(+timestamp * 1000)).toLocaleString()\n  };\n\n  _getFavoriteClasses = () => {\n    let classes = ['photo__info__favorite']\n    if (this.props.favorite) {\n      classes.push('photo__info__favorite--active')\n    }\n    return classes.join(' ')\n  };\n\n  _toggleFavorite = () => {\n    this.props.onFavorite({\n      url: this.props.url,\n      shortcode: this.props.shortcode,\n      timestamp: this.props.timestamp,\n      likes: this.props.likes\n    })\n  };\n}\n\nexport default Photo\n","export default {\n  /**\n   * Fetch user data\n   * @param {string} username\n   * @returns {Promise.<object[]>}\n   */\n  fetchUser(username) {\n    const url = `https://www.instagram.com/${username}/?__a=1`;\n    return fetch(url)\n      .then(response => {\n        if (response.ok === false) {\n          throw new Error(\"We didn't get API response. Please, try again.\");\n        }\n        return response.json();\n      })\n      .then(result => {\n        const {\n          graphql: {\n            user: { is_private }\n          }\n        } = result;\n\n        if (is_private) {\n          throw new Error(\"User profile is private.\");\n        }\n\n        let promises = [];\n        let images = [];\n        if (result.graphql) {\n          const { id } = result.graphql.user;\n          const {\n            edges,\n            count\n          } = result.graphql.user.edge_owner_to_timeline_media;\n          const hasNextPage =\n            result.graphql.user.edge_owner_to_timeline_media.page_info\n              .has_next_page;\n          const endCursor =\n            result.graphql.user.edge_owner_to_timeline_media.page_info\n              .end_cursor;\n          const isPrivate = result.graphql.user.is_private;\n          if (count > 0 && !isPrivate) {\n            images = edges.map(item => {\n              return {\n                url: item.node.display_url,\n                shortcode: item.node.shortcode,\n                timestamp: item.node.taken_at_timestamp,\n                likes: +item.node.edge_liked_by.count\n              };\n            });\n          }\n\n          if (hasNextPage) {\n            // @todo: get queryHash dynamic\n            const queryHash = \"f2405b236d85e8296cf30347c9f08c2a\";\n            const limit = 50;\n            const maxPages = 20;\n            let page = 1;\n\n            const loop = endCursor => {\n              const query = {\n                query_hash: queryHash,\n                variables: `{\"id\":\"${id}\",\"first\":${limit},\"after\":\"${endCursor}\"}`\n              };\n              const urlPagination = `https://www.instagram.com/graphql/query?query_hash=${query.query_hash}&variables=${query.variables}`;\n              return fetch(urlPagination)\n                .then(response => {\n                  return response.json();\n                })\n                .then(result => {\n                  if (result.status === \"ok\") {\n                    const {\n                      edges\n                    } = result.data.user.edge_owner_to_timeline_media;\n                    const hasNextPage =\n                      result.data.user.edge_owner_to_timeline_media.page_info\n                        .has_next_page;\n                    const endCursor =\n                      result.data.user.edge_owner_to_timeline_media.page_info\n                        .end_cursor;\n\n                    edges.forEach(item => {\n                      images.push({\n                        url: item.node.display_url,\n                        shortcode: item.node.shortcode,\n                        timestamp: item.node.taken_at_timestamp,\n                        likes: +item.node.edge_media_preview_like.count\n                      });\n                    });\n\n                    page++;\n\n                    if (hasNextPage && page < maxPages) {\n                      return loop(endCursor);\n                    }\n                  }\n                })\n                .catch(error => {\n                  console.log(\"pagination error:\", error);\n                });\n            };\n\n            promises.push(loop(endCursor));\n          }\n        }\n        if (images.length === 0) {\n          throw new Error(\"User not found.\");\n        }\n        return Promise.all(promises).then(() => {\n          return images;\n        });\n      })\n      .catch(error => {\n        throw new Error(error);\n      });\n  }\n};\n","import _ from 'lodash'\n\nexport default {\n  /**\n   * Filter images by sort and limit\n   * @param {object} options\n   * @param {string} options.sort\n   * @param {number} options.limit\n   * @returns {object[]}\n   */\n  filterImages ({ images, sort, limit }) {\n    let filteredImages = [].concat(images)\n    if (sort === 'likes') {\n      filteredImages = _.sortBy(filteredImages, 'likes').reverse()\n    } else if (sort === 'oldest') {\n      filteredImages = filteredImages.reverse()\n    }\n    if (limit > 0) {\n      filteredImages = filteredImages.slice(0, limit)\n    }\n    return filteredImages\n  },\n\n  /**\n   * Adiciona favorito\n   * @param {object} photo\n   */\n  toggleFavorite (photo) {\n    let favorites = this.getFavorites()\n    const favorite = favorites.find(item => item.url === photo.url)\n    if (!favorite) {\n      favorites.push(photo)\n    } else {\n      favorites = favorites.filter(item => item.url !== photo.url)\n    }\n\n    favorites = JSON.stringify(favorites)\n    localStorage.setItem('favorites', favorites)\n  },\n\n  /**\n   * Verifica se é favorito\n   * @param {object} photo\n   * @param {boolean}\n   */\n  isFavorite (photo) {\n    let favorites = this.getFavorites()\n    const favorite = favorites.find(item => item.url === photo.url)\n    return favorite !== undefined\n  },\n\n  /**\n   * Resgata favoritos\n   * @returns {object[]}\n   */\n  getFavorites () {\n    let favorites = localStorage.getItem('favorites')\n    if (favorites) {\n      favorites = JSON.parse(favorites)\n    } else {\n      favorites = []\n    }\n    return favorites\n  }\n}\n","import React, { Component } from 'react'\nimport Slider from 'react-slick'\nimport Photo from './Photo'\nimport { imageUtils } from '../utils'\nimport '../styles/gallery.css'\n\nclass Gallery extends Component {\n  static defaultProps = {\n    filters: {},\n    images: [],\n    onFavorite: () => {}\n  };\n\n  componentDidUpdate (prevProps) {\n    if (\n      this.props.images.length !== prevProps.images.length ||\n      this.props.filters !== prevProps.filters\n    ) {\n      if (this.slider) {\n        this.slider.slickGoTo(0)\n      }\n    }\n  };\n\n  render() {\n    const { images } = this.props\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      variableWidth: false,\n      accessibility: true,\n      lazyLoad: 'ondemand'\n    }\n    if (images.length === 0) {\n      return false\n    }\n    const slides = images.map((image, index) => {\n      return (\n        <Photo\n          key={index}\n          url={image.url}\n          shortcode={image.shortcode}\n          timestamp={image.timestamp}\n          favorite={image.favorite}\n          likes={image.likes}\n          onFavorite={this._onFavorite}\n        />\n      )\n    })\n    return (\n      <Slider\n        ref={ref => this.slider = ref}\n        {...settings}\n      >\n        {slides}\n      </Slider>\n    )\n  };\n\n  _onFavorite = photo => {\n    imageUtils.toggleFavorite(photo)\n    this.props.onFavorite(photo)\n  };\n}\n\nexport default Gallery\n","import React, { Component } from 'react'\n\nclass GalleryFilter extends Component {\n  static defaultProps = {\n    onChange: () => {},\n    selected: null,\n    values: []\n  };\n\n  render () {\n    return (\n      <div className=\"gallery-filters__filter\">\n        {this._getItems()}\n      </div>\n    )\n  };\n\n  _getItems = () => {\n    const { values, selected } = this.props\n    return values.map((item, index) => {\n      let classes = ['gallery-filters__filter__value']\n      if (item.value === selected) {\n        classes.push('gallery-filters__filter__value--active')\n      }\n      return (\n        <span\n          key={index}\n          className={classes.join(' ')}\n          onClick={() => this.props.onChange(item.value)}\n        >{item.label}</span>\n      )\n    })\n  };\n}\n\nexport default GalleryFilter\n","import React, { Component } from 'react'\nimport GalleryFilter from './GalleryFilter'\nimport '../styles/gallery_filters.css'\n\nclass GalleryFilters extends Component {\n  static defaultProps = {\n    onChange: () => {},\n    filters: {}\n  };\n\n  state = {\n    sort: 'recent',\n    limit: 50\n  };\n\n  render () {\n    return (\n      <div className=\"gallery-filters\">\n        {this._getSortFilters()}\n        {this._getLimitFilters()}\n      </div>\n    )\n  };\n\n  _getSortFilters = () => {\n    const { sort } = this.state\n    const values = [{\n      value: 'likes',\n      label: 'likes'\n    }, {\n      value: 'recent',\n      label: 'recent'\n    }, {\n      value: 'oldest',\n      label: 'oldest'\n    }]\n    return (\n      <GalleryFilter\n        selected={sort}\n        values={values}\n        onChange={value => this._onChangeFilter('sort', value)}\n      />\n    )\n  };\n\n  _getLimitFilters = () => {\n    const { limit } = this.state\n    const values = [{\n      value: 10,\n      label: 10\n    }, {\n      value: 50,\n      label: 50\n    }, {\n      value: 0,\n      label: 'all'\n    }]\n    return (\n      <GalleryFilter\n        selected={limit}\n        values={values}\n        onChange={value => this._onChangeFilter('limit', value)}\n      />\n    )\n  };\n\n  _onChangeFilter = (name, value) => {\n    this.setState({ [name]: value }, () => {\n      this.props.onChange(this.state)\n    })\n  };\n}\n\nexport default GalleryFilters\n","import React, { Component } from 'react'\nimport '../styles/spinner.css'\n\nclass Spinner extends Component {\n  render () {\n    return (\n      <div className=\"spinner\">\n        <span className=\"spinner__circle\"></span>\n      </div>\n    )\n  };\n}\n\nexport default Spinner\n","import React, { Component } from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Gallery from './Gallery'\nimport GalleryFilters from './GalleryFilters'\nimport Spinner from './Spinner'\nimport { api, imageUtils } from '../utils'\nimport '../styles/app.css'\n\nclass App extends Component {\n  state = {\n    username: null,\n    images: [],\n    filters: {},\n    favorites: [],\n    showThumbs: false,\n    loading: false,\n    error: null,\n    exampleUsers: [\n      'angrymikko',\n      'jaromvogel',\n      'zatransis',\n      'rebeccamillsdraws',\n      '⭐️'\n    ]\n  };\n\n  componentDidMount () {\n    if (window.location.hash) {\n      this._checkUsernameInHash(window.location.hash)\n    }\n    window.addEventListener('hashchange', this._onHashChange)\n  };\n\n  render () {\n    const { username, images, loading, error } = this.state\n    return (\n      <div className=\"app\">\n        <Header\n          username={username}\n          onSetUsername={this._onSetUsername}\n        />\n        {images.length > 0 && !loading &&\n          <GalleryFilters\n            filters={this.state.filters}\n            onChange={this._onFilter}\n          />\n        }\n        {!loading &&\n          <Gallery\n            filters={this.state.filters}\n            images={this._galleryImages()}\n            onFavorite={this._onFavorite}\n          />\n        }\n        {loading &&\n          <Spinner />\n        }\n        {images.length === 0 && !loading &&\n          <div className=\"app__start\">\n            {error &&\n              <p className=\"app__start__error\">{error}</p>\n            }\n            <p className=\"app__start__message\">Fill the username <span role=\"img\" aria-label=\"point_up\">☝️</span></p>\n            <p className=\"app__start__example\">Examples:</p>\n            <ul className=\"app__start__example-users\">\n              {this._getExampleUsers()}\n            </ul>\n          </div>\n        }\n        <Footer />\n      </div>\n    )\n  };\n\n  _onSetUsername = username => {\n    if (username) {\n      if (username === '⭐️' || username === 'favorites') {\n        window.history.pushState({}, 'username_favorites', '#/@favorites')\n        document.title = `favorites / Insta Gallerify`\n        const images = imageUtils.getFavorites()\n        if (images.length > 0) {\n          this.setState({ username, images })\n        } else {\n          this.setState({\n            error: 'You have no favorites yet!',\n            username: '',\n            images: []\n          })\n        }\n      } else {\n        window.history.pushState({}, `username_${username}`, `#/@${username}`)\n        document.title = `@${username} / Insta Gallerify`\n        if (username !== this.state.username) {\n          this.setState({ loading: true }, () => {\n            return api.fetchUser(username).then(images => {\n              this.setState({ username, images })\n            }).catch(error => {\n              this.setState({\n                error: error.message,\n                username: '',\n                images: []\n              })\n            }).finally(() => {\n              this.setState({ loading: false })\n            })\n          })\n        }\n      }\n    } else {\n      this.setState({ username: '', images: [] })\n    }\n  };\n\n  _galleryImages = () => {\n    let list = []\n    const { images, filters } = this.state\n    if (images.length > 0) {\n      list = imageUtils.filterImages({ images, ...filters })\n    }\n    list = list.map(photo => {\n      return {\n        ...photo,\n        favorite: imageUtils.isFavorite(photo)\n      }\n    })\n    return list\n  };\n\n  _onFilter = filters => {\n    this.setState({ filters })\n  };\n\n  _getExampleUsers = () => {\n    const { exampleUsers } = this.state\n    return exampleUsers.map((username, index) => {\n      return (\n        <li key={index}>\n          <span\n            onClick={() => this._onSetUsername(username)}\n          >{username}</span>\n        </li>\n      )\n    })\n  };\n\n  _checkUsernameInHash = hash => {\n    const parts = hash.split('@')\n    if (parts.length > 0) {\n      this._onSetUsername(parts[1])\n    }\n  };\n\n  _onHashChange = event => {\n    this._checkUsernameInHash(event.newURL)\n  };\n\n  _onFavorite = photo => {\n    const images = this.state.images.map(item => {\n      if (item.url === photo.url) {\n        item.favorite = !item.favorite\n      }\n      return item\n    })\n    this.setState({ images })\n  };\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport '../node_modules/slick-carousel/slick/slick.css';\nimport '../node_modules/slick-carousel/slick/slick-theme.css';\n\nimport App from './components/App';\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}