{"version":3,"sources":["components/Header.js","components/Footer.js","components/Photo.js","utils/api.js","utils/image_utils.js","components/Gallery.js","components/GalleryFilter.js","components/GalleryFilters.js","components/Spinner.js","components/App.js","index.js"],"names":["Header","state","username","valid","_handleKey","event","key","_this","_setValid","_handleBlur","_handleChange","setState","target","value","trim","props","onSetUsername","_edit","input","select","prevProps","_this2","this","_this3","_this$state","react_default","a","createElement","className","onClick","autoFocus","name","ref","type","placeholder","onChange","onKeyPress","onBlur","Component","Footer","href","Photo","_friendlyLikes","likes","numeral","format","_getLink","shortcode","concat","_getDate","timestamp","Date","toLocaleString","_getFavoriteClasses","classes","favorite","push","join","_toggleFavorite","onFavorite","url","role","aria-label","rel","src","alt","defaultProps","api","fetchUser","fetch","then","response","json","result","images","graphql","_result$graphql$user$","user","edge_owner_to_timeline_media","edges","count","isPrivate","is_private","map","item","node","display_url","taken_at_timestamp","edge_liked_by","length","Error","catch","error","image_utils","filterImages","_ref","sort","limit","filteredImages","_","sortBy","reverse","slice","toggleFavorite","photo","favorites","getFavorites","find","filter","JSON","stringify","localStorage","setItem","isFavorite","undefined","getItem","parse","Gallery","_onFavorite","imageUtils","slider","slickGoTo","slides","image","index","components_Photo","lib_default","Object","assign","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","accessibility","lazyLoad","GalleryFilter","_getItems","_this$props","values","selected","label","GalleryFilters","_getSortFilters","components_GalleryFilter","_onChangeFilter","_getLimitFilters","defineProperty","filters","Spinner","App","showThumbs","loading","exampleUsers","_onSetUsername","message","finally","_galleryImages","list","objectSpread","_onFilter","_getExampleUsers","_this$state2","components_Header","components_GalleryFilters","components_Gallery","components_Spinner","components_Footer","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.e3df72b8.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport '../styles/header.css'\n\nclass Header extends Component {\n  state = {\n    username: '',\n    valid: false\n  };\n\n  componentDidUpdate (prevProps) {\n    const { username } = this.props\n    if (username !== prevProps.username) {\n      this.setState({ username }, () => {\n        this._setValid()\n      })\n    }\n  }\n\n  render () {\n    const { username, valid } = this.state\n    return (\n      <header className=\"main-header\">\n        {valid &&\n          <div className=\"main-header__user\"  onClick={this._edit}>\n            <p className=\"main-header__user__name\">{username}</p>\n          </div>\n        }\n        {!valid &&\n          <input\n            autoFocus\n            name='username'\n            className=\"main-header__input\"\n            ref={ref => this.input = ref}\n            type=\"text\"\n            value={username}\n            placeholder=\"@username\"\n            onChange={this._handleChange}\n            onKeyPress={this._handleKey}\n            onBlur={this._handleBlur}\n          />\n        }\n      </header>\n    )\n  };\n\n  _handleKey = event => {\n    if (event.key === 'Enter') {\n      this._setValid()\n    }\n  };\n\n  _handleBlur = () => {\n    if (this.state.username) {\n      this._setValid()\n    }\n  };\n\n  _handleChange = event => {\n    this.setState({ username: event.target.value.trim() })\n  };\n\n  _setValid = () => {\n    const valid = this.state.username !== ''\n    this.setState({ valid }, () => {\n      this.props.onSetUsername(this.state.username)\n    })\n  };\n\n  _edit = () => {\n    this.setState({ valid: false }, () => {\n      this.input.select()\n    })\n  }\n}\n\nexport default Header\n","import React, { Component } from 'react'\nimport '../styles/footer.css'\n\nclass Footer extends Component {\n  render () {\n    return (\n      <footer className=\"main-footer\">\n        <a className=\"main-footer__link\" href=\"https://github.com/thiagosf/insta-gallerify\">github</a>\n      </footer>\n    )\n  };\n}\n\nexport default Footer\n","import React, { Component } from 'react'\nimport numeral from 'numeral'\nimport '../styles/photo.css'\n\nclass Photo extends Component {\n  static defaultProps = {\n    url: '',\n    shortcode: '',\n    timestamp: '',\n    likes: 0,\n    favorite: false,\n    onFavorite: () => {}\n  };\n\n  render() {\n    const { url } = this.props\n    return (\n      <div className=\"photo\">\n        <div className=\"photo__info\">\n          <div className=\"photo__info__vertical-group\">\n            <span className={this._getFavoriteClasses()} onClick={this._toggleFavorite}>\n              <span className=\"photo__info__favorite__icon\" role=\"img\" aria-label=\"star\">⭐️</span>\n            </span>\n            <span className=\"photo__info__likes\">\n              <span className=\"photo__info__likes__icon\" role=\"img\" aria-label=\"heart\">❤️</span> {this._friendlyLikes()}\n            </span>\n          </div>\n          <span className=\"photo__info__timestamp\">\n            {this._getDate()}\n          </span>\n          <a href={this._getLink()} target=\"_blank\" rel=\"noopener noreferrer\"  className=\"photo__info__link\">link</a>\n        </div>\n        <img src={url} alt='' />\n      </div>\n    )\n  };\n\n  _friendlyLikes = () => {\n    const { likes } = this.props\n    return numeral(likes).format('0.0a')\n  };\n\n  _getLink = () => {\n    const { shortcode } = this.props\n    return `https://www.instagram.com/p/${shortcode}`\n  };\n\n  _getDate = () => {\n    const { timestamp } = this.props\n    return (new Date(+timestamp * 1000)).toLocaleString()\n  };\n\n  _getFavoriteClasses = () => {\n    let classes = ['photo__info__favorite']\n    if (this.props.favorite) {\n      classes.push('photo__info__favorite--active')\n    }\n    return classes.join(' ')\n  };\n\n  _toggleFavorite = () => {\n    this.props.onFavorite({\n      url: this.props.url,\n      shortcode: this.props.shortcode,\n      timestamp: this.props.timestamp,\n      likes: this.props.likes\n    })\n  };\n}\n\nexport default Photo\n","export default {\n  /**\n   * Fetch user data\n   * @param {string} username\n   * @returns {Promise.<object[]>}\n   */\n  fetchUser (username) {\n    const url = `https://www.instagram.com/${username}/?__a=1`\n    return fetch(url).then(response => {\n      return response.json()\n    }).then(result => {\n      let images = []\n      if (result.graphql) {\n        const { edges, count } = result.graphql.user.edge_owner_to_timeline_media\n        const isPrivate = result.graphql.user.is_private\n        if (count > 0 && !isPrivate) {\n          images = edges.map(item => {\n            return {\n              url: item.node.display_url,\n              shortcode: item.node.shortcode,\n              timestamp: item.node.taken_at_timestamp,\n              likes: +item.node.edge_liked_by.count\n            }\n          })\n        }\n      }\n      if (images.length === 0) {\n        throw new Error('User not found or private')\n      }\n      return images\n    }).catch(error => {\n      throw new Error('User not found or private')\n    })\n  }\n}\n","import _ from 'lodash'\n\nexport default {\n  /**\n   * Filter images by sort and limit\n   * @param {object} options\n   * @param {string} options.sort\n   * @param {number} options.limit\n   * @returns {object[]}\n   */\n  filterImages ({ images, sort, limit }) {\n    let filteredImages = [].concat(images)\n    if (sort === 'likes') {\n      filteredImages = _.sortBy(filteredImages, 'likes').reverse()\n    }\n    if (limit > 0) {\n      filteredImages = filteredImages.slice(0, limit)\n    }\n    return filteredImages\n  },\n\n  /**\n   * Adiciona favorito\n   * @param {object} photo\n   */\n  toggleFavorite (photo) {\n    let favorites = this.getFavorites()\n    const favorite = favorites.find(item => item.url === photo.url)\n    if (!favorite) {\n      favorites.push(photo)\n    } else {\n      favorites = favorites.filter(item => item.url !== photo.url)\n    }\n\n    favorites = JSON.stringify(favorites)\n    localStorage.setItem('favorites', favorites)\n  },\n\n  /**\n   * Verifica se é favorito\n   * @param {object} photo\n   * @param {boolean}\n   */\n  isFavorite (photo) {\n    let favorites = this.getFavorites()\n    const favorite = favorites.find(item => item.url === photo.url)\n    return favorite !== undefined\n  },\n\n  /**\n   * Resgata favoritos\n   * @returns {object[]}\n   */\n  getFavorites () {\n    let favorites = localStorage.getItem('favorites')\n    if (favorites) {\n      favorites = JSON.parse(favorites)\n    } else {\n      favorites = []\n    }\n    return favorites\n  }\n}\n","import React, { Component } from 'react'\nimport Slider from 'react-slick'\nimport Photo from './Photo'\nimport { imageUtils } from '../utils'\nimport '../styles/gallery.css'\n\nclass Gallery extends Component {\n  static defaultProps = {\n    images: []\n  };\n\n  componentDidUpdate (prevProps) {\n    if (\n      this.props.images.length !== prevProps.images.length ||\n      this.props.images[0] === prevProps.images[0]\n    ) {\n      if (this.slider) {\n        this.slider.slickGoTo(0)\n      }\n    }\n  };\n\n  render() {\n    const { images } = this.props\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      variableWidth: false,\n      accessibility: true,\n      lazyLoad: 'progressive'\n    }\n    if (images.length === 0) {\n      return false\n    }\n    const slides = images.map((image, index) => {\n      return (\n        <Photo\n          key={index}\n          url={image.url}\n          shortcode={image.shortcode}\n          timestamp={image.timestamp}\n          favorite={image.favorite}\n          likes={image.likes}\n          onFavorite={this._onFavorite}\n        />\n      )\n    })\n    return (\n      <Slider\n        ref={ref => this.slider = ref}\n        {...settings}\n      >\n        {slides}\n      </Slider>\n    )\n  };\n\n  _onFavorite = photo => {\n    imageUtils.toggleFavorite(photo)\n  };\n}\n\nexport default Gallery\n","import React, { Component } from 'react'\n\nclass GalleryFilter extends Component {\n  static defaultProps = {\n    onChange: () => {},\n    selected: null,\n    values: []\n  };\n\n  render () {\n    return (\n      <div className=\"gallery-filters__filter\">\n        {this._getItems()}\n      </div>\n    )\n  };\n\n  _getItems = () => {\n    const { values, selected } = this.props\n    return values.map((item, index) => {\n      let classes = ['gallery-filters__filter__value']\n      if (item.value === selected) {\n        classes.push('gallery-filters__filter__value--active')\n      }\n      return (\n        <span\n          key={index}\n          className={classes.join(' ')}\n          onClick={() => this.props.onChange(item.value)}\n        >{item.label}</span>\n      )\n    })\n  };\n}\n\nexport default GalleryFilter\n","import React, { Component } from 'react'\nimport GalleryFilter from './GalleryFilter'\nimport '../styles/gallery_filters.css'\n\nclass GalleryFilters extends Component {\n  static defaultProps = {\n    onChange: () => {},\n    filters: {}\n  };\n\n  state = {\n    sort: 'recent',\n    limit: 50\n  };\n\n  render () {\n    return (\n      <div className=\"gallery-filters\">\n        {this._getSortFilters()}\n        {this._getLimitFilters()}\n      </div>\n    )\n  };\n\n  _getSortFilters = () => {\n    const { sort } = this.state\n    const values = [{\n      value: 'recent',\n      label: 'recent'\n    }, {\n      value: 'likes',\n      label: 'likes'\n    }]\n    return (\n      <GalleryFilter\n        selected={sort}\n        values={values}\n        onChange={value => this._onChangeFilter('sort', value)}\n      />\n    )\n  };\n\n  _getLimitFilters = () => {\n    const { limit } = this.state\n    const values = [{\n      value: 10,\n      label: 10\n    }, {\n      value: 50,\n      label: 50\n    }, {\n      value: 0,\n      label: 'all'\n    }]\n    return (\n      <GalleryFilter\n        selected={limit}\n        values={values}\n        onChange={value => this._onChangeFilter('limit', value)}\n      />\n    )\n  };\n\n  _onChangeFilter = (name, value) => {\n    this.setState({ [name]: value }, () => {\n      this.props.onChange(this.state)\n    })\n  };\n}\n\nexport default GalleryFilters\n","import React, { Component } from 'react'\nimport '../styles/spinner.css'\n\nclass Spinner extends Component {\n  render () {\n    return (\n      <div className=\"spinner\">\n        <span className=\"spinner__circle\"></span>\n      </div>\n    )\n  };\n}\n\nexport default Spinner\n","import React, { Component } from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Gallery from './Gallery'\nimport GalleryFilters from './GalleryFilters'\nimport Spinner from './Spinner'\nimport { api, imageUtils } from '../utils'\nimport '../styles/app.css'\n\nclass App extends Component {\n  state = {\n    username: null,\n    images: [],\n    filters: {},\n    favorites: [],\n    showThumbs: false,\n    loading: false,\n    error: null,\n    exampleUsers: [\n      'angrymikko',\n      'jaromvogel',\n      'zatransis',\n      'rebeccamillsdraws',\n      '⭐️'\n    ]\n  };\n\n  render () {\n    const { username, images, loading, error } = this.state\n    return (\n      <div className=\"app\">\n        <Header\n          username={username}\n          onSetUsername={this._onSetUsername}\n        />\n        {images.length > 0 && !loading &&\n          <GalleryFilters\n            filters={this.state.filters}\n            onChange={this._onFilter}\n          />\n        }\n        {!loading &&\n          <Gallery images={this._galleryImages()} />\n        }\n        {loading &&\n          <Spinner />\n        }\n        {images.length === 0 && !loading &&\n          <div className=\"app__start\">\n            {error &&\n              <p className=\"app__start__error\">{error}</p>\n            }\n            <p className=\"app__start__message\">Fill the username <span role=\"img\" aria-label=\"point_up\">☝️</span></p>\n            <p className=\"app__start__example\">Examples:</p>\n            <ul className=\"app__start__example-users\">\n              {this._getExampleUsers()}\n            </ul>\n          </div>\n        }\n        <Footer />\n      </div>\n    )\n  };\n\n  _onSetUsername = username => {\n    if (username) {\n      if (username === '⭐️') {\n        const images = imageUtils.getFavorites()\n        if (images.length > 0) {\n          this.setState({ username, images })\n        } else {\n          this.setState({\n            error: 'You have no favorites yet!',\n            username: '',\n            images: []\n          })\n        }\n      } else {\n        if (username !== this.state.username) {\n          this.setState({ loading: true }, () => {\n            return api.fetchUser(username).then(images => {\n              this.setState({ username, images })\n            }).catch(error => {\n              this.setState({\n                error: error.message,\n                username: '',\n                images: []\n              })\n            }).finally(() => {\n              this.setState({ loading: false })\n            })\n          })\n        }\n      }\n    } else {\n      this.setState({ username: '', images: [] })\n    }\n  };\n\n  _galleryImages = () => {\n    let list = []\n    const { images, filters } = this.state\n    if (images.length > 0) {\n      list = imageUtils.filterImages({ images, ...filters })\n    }\n    list = list.map(photo => {\n      return {\n        ...photo,\n        favorite: imageUtils.isFavorite(photo)\n      }\n    })\n    return list\n  };\n\n  _onFilter = filters => {\n    this.setState({ filters })\n  };\n\n  _getExampleUsers = () => {\n    const { exampleUsers } = this.state\n    return exampleUsers.map((username, index) => {\n      return (\n        <li key={index}>\n          <span\n            onClick={() => this._onSetUsername(username)}\n          >{username}</span>\n        </li>\n      )\n    })\n  };\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport '../node_modules/slick-carousel/slick/slick.css';\nimport '../node_modules/slick-carousel/slick/slick-theme.css';\n\nimport App from './components/App';\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}