{"version":3,"sources":["components/Header.js","components/Gallery.js","utils/api.js","components/App.js","index.js"],"names":["Header","state","username","valid","_handleKey","event","key","_this","setState","props","onSetUsername","_handleChange","target","value","_edit","input","select","_this2","this","_this$state","react_default","a","createElement","className","onClick","name","ref","type","placeholder","onChange","onKeyPress","Component","Gallery","images","length","slides","map","image","index","src","url","alt","lib_default","dots","infinite","speed","slidesToShow","slidesToScroll","variableWidth","accessibility","defaultProps","api","fetchUser","concat","fetch","then","response","json","result","graphql","_result$graphql$user$","user","edge_owner_to_timeline_media","edges","count","item","node","display_url","likes","edge_liked_by","_","sortBy","reverse","slice","App","_onSetUsername","components_Header","components_Gallery","ReactDOM","render","components_App","document","getElementById"],"mappings":"oPAoDeA,6MAjDbC,MAAQ,CACNC,SAAU,GACVC,OAAO,KA4BTC,WAAa,SAAAC,GACO,UAAdA,EAAMC,KACRC,EAAKC,SAAS,CAAEL,OAAO,GAAQ,WAC7BI,EAAKE,MAAMC,cAAcH,EAAKN,MAAMC,eAK1CS,cAAgB,SAAAN,GACdE,EAAKC,SAAS,CAAEN,SAAUG,EAAMO,OAAOC,WAGzCC,MAAQ,WACNP,EAAKC,SAAS,CAAEL,OAAO,GAAS,WAC9BI,EAAKQ,MAAMC,oFAvCL,IAAAC,EAAAC,KAAAC,EACoBD,KAAKjB,MAAzBC,EADAiB,EACAjB,SAAUC,EADVgB,EACUhB,MAClB,OACEiB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eACfpB,GACCiB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAqBC,QAASN,KAAKJ,OAChDM,EAAAC,EAAAC,cAAA,KAAGC,UAAU,2BAA2BrB,KAG1CC,GACAiB,EAAAC,EAAAC,cAAA,SACEG,KAAK,WACLF,UAAU,qBACVG,IAAK,SAAAA,GAAG,OAAIT,EAAKF,MAAQW,GACzBC,KAAK,OACLd,MAAOX,EACP0B,YAAY,YACZC,SAAUX,KAAKP,cACfmB,WAAYZ,KAAKd,qBAxBR2B,8BCCfC,mLAMF,IAUQC,EAAWf,KAAKT,MAAhBwB,OACR,GAAsB,IAAlBA,EAAOC,OACT,OAAO,EAET,IAAMC,EAASF,EAAOG,IAAI,SAACC,EAAOC,GAChC,OACElB,EAAAC,EAAAC,cAAA,OAAKhB,IAAKgC,GACRlB,EAAAC,EAAAC,cAAA,OAAKiB,IAAKF,EAAMG,IAAKC,IAAI,QAK/B,OACErB,EAAAC,EAAAC,cAACoB,EAAArB,EAvBc,CACfsB,MAAM,EACNC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,eAAe,EACfC,eAAe,GAiBZd,UA9BaJ,aAAhBC,EACGkB,aAAe,CACpBjB,OAAQ,IAkCGD,yBCrCAmB,EAAA,CACbC,UADa,SACFlD,GAET,IAAMsC,EAAG,6BAAAa,OAAgCnD,EAAhC,WACT,OAAOoD,MAAMd,GAAKe,KAAK,SAAAC,GACrB,OAAOA,EAASC,SACfF,KAAK,SAAAG,GAGN,IAAIzB,EAAS,GACb,GAAIyB,EAAOC,QAAS,KAAAC,EACOF,EAAOC,QAAQE,KAAKC,6BAArCC,EADUH,EACVG,MADUH,EACHI,MACH,IACV/B,EAAS8B,EAAM3B,IAAI,SAAA6B,GACjB,MAAO,CACLzB,IAAKyB,EAAKC,KAAKC,YACfC,OAAQH,EAAKC,KAAKG,cAAcL,SAIpC/B,GADAA,EAASqC,IAAEC,OAAOtC,EAAQ,SAASuC,WACnBC,MAAM,EAAG,KAG7B,OAAOxC,MCIEyC,6MAvBbzE,MAAQ,CACNgC,OAAQ,MAeV0C,eAAiB,SAAAzE,GACf,OAAOiD,EAAIC,UAAUlD,GAAUqD,KAAK,SAAAtB,GAClC1B,EAAKC,SAAS,CAAEyB,sFAdV,IACAA,EAAWf,KAAKjB,MAAhBgC,OACR,OACEb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACsD,EAAD,CACElE,cAAeQ,KAAKyD,iBAEtBvD,EAAAC,EAAAC,cAACuD,EAAD,CAAS5C,OAAQA,YAZPF,aCGlB+C,IAASC,OAAO3D,EAAAC,EAAAC,cAAC0D,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ee943df6.chunk.js","sourcesContent":["import React, { Component } from 'react'\n\nclass Header extends Component {\n  state = {\n    username: '',\n    valid: false\n  };\n\n  render () {\n    const { username, valid } = this.state\n    return (\n      <header className=\"main-header\">\n        {valid &&\n          <div className=\"main-header__user\"  onClick={this._edit}>\n            <p className=\"main-header__user__name\">{username}</p>\n          </div>\n        }\n        {!valid &&\n          <input\n            name='username'\n            className=\"main-header__input\"\n            ref={ref => this.input = ref}\n            type=\"text\"\n            value={username}\n            placeholder=\"@username\"\n            onChange={this._handleChange}\n            onKeyPress={this._handleKey}\n          />\n        }\n      </header>\n    )\n  };\n\n  _handleKey = event => {\n    if (event.key === 'Enter') {\n      this.setState({ valid: true }, () => {\n        this.props.onSetUsername(this.state.username)\n      })\n    }\n  };\n\n  _handleChange = event => {\n    this.setState({ username: event.target.value })\n  };\n\n  _edit = () => {\n    this.setState({ valid: false }, () => {\n      this.input.select()\n    })\n  }\n}\n\nexport default Header\n","import React, { Component } from 'react'\nimport Slider from 'react-slick'\n\nclass Gallery extends Component {\n  static defaultProps = {\n    images: []\n  };\n\n  render() {\n    const settings = {\n      dots: false,\n      infinite: true,\n      speed: 500,\n      slidesToShow: 1,\n      slidesToScroll: 1,\n      variableWidth: true,\n      accessibility: true\n    }\n\n    const { images } = this.props\n    if (images.length === 0) {\n      return false\n    }\n    const slides = images.map((image, index) => {\n      return (\n        <div key={index}>\n          <img src={image.url} alt='' />\n        </div>\n      )\n    })\n\n    return (\n      <Slider {...settings}>\n        {slides}\n      </Slider>\n    )\n  }\n}\n\nexport default Gallery\n","import _ from 'lodash'\n\nexport default {\n  fetchUser (username) {\n    // const result = require('../mock/items.json')\n    const url = `https://www.instagram.com/${username}/?__a=1`\n    return fetch(url).then(response => {\n      return response.json()\n    }).then(result => {\n      // console.log('-------')\n      // console.log(result)\n      let images = []\n      if (result.graphql) {\n        const { edges, count } = result.graphql.user.edge_owner_to_timeline_media\n        if (count > 0) {\n          images = edges.map(item => {\n            return {\n              url: item.node.display_url,\n              likes: +item.node.edge_liked_by.count\n            }\n          })\n          images = _.sortBy(images, 'likes').reverse()\n          images = images.slice(0, 30)\n        }\n      }\n      return images\n    })\n  }\n}\n","import React, { Component } from 'react'\nimport Header from './Header'\nimport Gallery from './Gallery'\nimport api from '../utils/api'\n\nclass App extends Component {\n  state = {\n    images: []\n  };\n\n  render () {\n    const { images } = this.state\n    return (\n      <div className=\"app\">\n        <Header\n          onSetUsername={this._onSetUsername}\n        />\n        <Gallery images={images} />\n      </div>\n    )\n  };\n\n  _onSetUsername = username => {\n    return api.fetchUser(username).then(images => {\n      this.setState({ images })\n    })\n  };\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport '../node_modules/slick-carousel/slick/slick.css';\nimport '../node_modules/slick-carousel/slick/slick-theme.css';\n\nimport App from './components/App';\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}