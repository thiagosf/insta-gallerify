(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(46)},22:function(e,t,a){},25:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),s=a.n(i),l=(a(22),a(23),a(24),a(13)),o=a(1),c=a(2),u=a(4),m=a(3),f=a(5),h=(a(25),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",valid:!1},a._handleKey=function(e){"Enter"===e.key&&a._setValid()},a._handleBlur=function(){a.state.username&&a._setValid()},a._handleChange=function(e){a.setState({username:e.target.value})},a._setValid=function(){a.setState({valid:!0},function(){a.props.onSetUsername(a.state.username)})},a._edit=function(){a.setState({valid:!1},function(){a.input.select()})},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.valid;return r.a.createElement("header",{className:"main-header"},n&&r.a.createElement("div",{className:"main-header__user",onClick:this._edit},r.a.createElement("p",{className:"main-header__user__name"},a)),!n&&r.a.createElement("input",{name:"username",className:"main-header__input",ref:function(t){return e.input=t},type:"text",value:a,placeholder:"@username",onChange:this._handleChange,onKeyPress:this._handleKey,onBlur:this._handleBlur}))}}]),t}(n.Component)),p=a(14),_=a.n(p),d=a(15),v=a.n(d),g=(a(41),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r))))._friendlyLikes=function(){var e=a.props.likes;return v()(e).format("0.0a")},a._getLink=function(){var e=a.props.shortcode;return"https://www.instagram.com/p/".concat(e)},a._getDate=function(){var e=a.props.timestamp;return new Date(1e3*+e).toLocaleString()},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.url;return r.a.createElement("div",{className:"photo"},r.a.createElement("div",{className:"photo__info"},r.a.createElement("span",{className:"photo__info__likes"},r.a.createElement("span",{className:"photo__info__likes__icon",role:"img","aria-label":"heart"},"\u2764\ufe0f")," ",this._friendlyLikes()),r.a.createElement("span",{className:"photo__info__timestamp"},this._getDate()),r.a.createElement("a",{href:this._getLink(),target:"_blank",rel:"noopener noreferrer",className:"photo__info__link"},"link")),r.a.createElement("img",{src:e,alt:""}))}}]),t}(n.Component));g.defaultProps={url:"",shortcode:"",timestamp:"",likes:0};var b=g,y=(a(42),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.images;if(0===e.length)return!1;var t=e.map(function(e,t){return r.a.createElement(b,{key:t,url:e.url,shortcode:e.shortcode,timestamp:e.timestamp,likes:e.likes})});return r.a.createElement(_.a,{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,variableWidth:!1,accessibility:!0},t)}}]),t}(n.Component));y.defaultProps={images:[]};var j=y,k=a(10),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i))))._getItems=function(){var e=a.props,t=e.values,n=e.selected;return t.map(function(e,t){var i=["gallery-filters__filter__value"];return e.value===n&&i.push("gallery-filters__filter__value--active"),r.a.createElement("span",{key:t,className:i.join(" "),onClick:function(){return a.props.onChange(e.value)}},e.label)})},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"gallery-filters__filter"},this._getItems())}}]),t}(n.Component);O.defaultProps={onChange:function(){},selected:null,values:[]};var E=O,w=(a(43),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={sort:"recent",limit:30},a._getSortFilters=function(){var e=a.state.sort;return r.a.createElement(E,{selected:e,values:[{value:"recent",label:"recent"},{value:"likes",label:"likes"}],onChange:function(e){return a._onChangeFilter("sort",e)}})},a._getLimitFilters=function(){var e=a.state.limit;return r.a.createElement(E,{selected:e,values:[{value:30,label:30},{value:70,label:70},{value:0,label:"all"}],onChange:function(e){return a._onChangeFilter("limit",e)}})},a._onChangeFilter=function(e,t){a.setState(Object(k.a)({},e,t),function(){a.props.onChange(a.state)})},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"gallery-filters"},this._getSortFilters(),this._getLimitFilters())}}]),t}(n.Component));w.defaultProps={onChange:function(){},filters:{}};var C=w,N={fetchUser:function(e){var t="https://www.instagram.com/".concat(e,"/?__a=1");return fetch(t).then(function(e){return e.json()}).then(function(e){var t=[];if(e.graphql){var a=e.graphql.user.edge_owner_to_timeline_media,n=a.edges;a.count>0&&(t=n.map(function(e){return{url:e.node.display_url,shortcode:e.node.shortcode,timestamp:e.node.taken_at_timestamp,likes:+e.node.edge_liked_by.count}}))}return t})}},S=a(16),F=a.n(S),I={filterImages:function(e){var t=e.images,a=e.sort,n=e.limit,r=[].concat(t);return"likes"===a&&(r=F.a.sortBy(r,"likes").reverse()),n>0&&(r=r.slice(0,n)),r}},L=(a(45),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={images:[],filters:{},favorites:[],showThumbs:!1},a._onSetUsername=function(e){return N.fetchUser(e).then(function(e){a.setState({images:e})})},a._galleryImages=function(){var e=[],t=a.state,n=t.images,r=t.filters;return n.length>0&&(e=I.filterImages(Object(l.a)({images:n},r))),e},a._onFilter=function(e){console.log("filters",e),a.setState({filters:e})},a}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.images;return r.a.createElement("div",{className:"app"},r.a.createElement(h,{onSetUsername:this._onSetUsername}),r.a.createElement(C,{filters:this.state.filters,onChange:this._onFilter}),r.a.createElement(j,{images:this._galleryImages()}),0===e.length&&r.a.createElement("p",{className:"app__start-message"},"Fill the username ",r.a.createElement("span",{role:"img","aria-label":"point_up"},"\u261d\ufe0f")))}}]),t}(n.Component));s.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7f6ebe5f.chunk.js.map